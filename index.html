<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soumission Assurance Auto</title>
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#f8fafc; --muted:#cbd5e1; --accent:#22c55e; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,#0b1220,#0f172a);color:var(--text)}
    .wrap{max-width:880px;margin:28px auto;padding:16px}
    .card{background:rgba(17,24,39,.85);backdrop-filter:saturate(140%) blur(8px);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    h1{font-size:clamp(22px,3.5vw,34px);margin:0 0 12px}
    p.lead{color:var(--muted);margin:0 0 20px}
    form{display:grid;gap:14px}
    .grid{display:grid;gap:12px}
    .g2{grid-template-columns:1fr 1fr}
    .g3{grid-template-columns:1fr 1fr 1fr}
    @media (max-width:760px){.g2,.g3{grid-template-columns:1fr}}
    label{display:block;font-size:14px;color:var(--muted);margin-bottom:6px}
    input,select,textarea{width:100%;padding:12px 12px;border:1px solid rgba(255,255,255,.12);background:#0b1220;color:var(--text);border-radius:10px;outline:none}
    input:focus,select:focus,textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 3px rgba(96,165,250,.25)}
    .row{display:flex;gap:8px;align-items:center;margin-bottom:6px}
    .hint{font-size:12px;color:#94a3b8}
    .btn{appearance:none;cursor:pointer;border:none;border-radius:12px;padding:14px 16px;font-weight:700}
    .primary{background:linear-gradient(135deg,#16a34a,#22c55e);color:#052e12}
    .primary:disabled{opacity:.65;cursor:not-allowed}
    .footer{margin-top:10px;color:#9ca3af;font-size:12px}
    .success{display:none;margin:8px 0 0;color:#86efac}
    .hidden{display:none!important}
    /* Correction uniquement pour la section Couvertures */ 
    .cover-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}
    @media (max-width:900px){ .cover-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:760px){ .cover-grid{grid-template-columns:1fr} .row{align-items:flex-start} label.row{line-height:1.35} }
    input[type="checkbox"]{inline-size:1.1rem; block-size:1.1rem}
    @media (max-width:760px){ input[type="checkbox"]{inline-size:1.25rem; block-size:1.25rem} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Soumission d'assurance auto</h1>
      <p class="lead">Remplissez ce formulaire et je vous reviens rapidement avec une soumission personnalisée.</p>

      <!-- On garde la même page. Seule la section 'Couvertures' est modifiée pour l'alignement -->
      <form id="quoteForm" action="https://formspree.io/f/xrblvlnw" method="POST" accept-charset="UTF-8">
        <input type="hidden" name="_subject" value="Nouvelle soumission auto (site)" />
        <input type="hidden" name="_language" value="fr" />
        <input type="hidden" name="_template" value="table" />
        <input type="hidden" name="_redirect" value="https://example.com/merci.html" />
        <div class="hidden">
          <label>Ne pas remplir
            <input type="text" name="_gotcha" autocomplete="off" />
          </label>
        </div>

        <div class="grid g2">
          <div>
            <label for="prenom">Prénom</label>
            <input id="prenom" name="Prénom" required autocomplete="given-name" />
          </div>
          <div>
            <label for="nom">Nom</label>
            <input id="nom" name="Nom" required autocomplete="family-name" />
          </div>
        </div>

        <div class="grid g2">
          <div>
            <label for="email">Courriel</label>
            <input id="email" name="Courriel" type="email" required placeholder="ex: nom@domaine.com" autocomplete="email" />
          </div>
          <div>
            <label for="tel">Téléphone</label>
            <input id="tel" name="Téléphone" type="tel" required placeholder="ex: 514‑555‑1234" autocomplete="tel" />
          </div>
        </div>

        <div class="grid g2">
          <div>
            <label for="dob">Date de naissance</label>
            <input id="dob" name="Date de naissance" type="date" required />
          </div>
          <div>
            <label for="permis">No de permis de conduire</label>
            <input id="permis" name="Permis de conduire" placeholder="ex: F1234‑567890‑12" />
          </div>
        </div>

        <div class="grid g3">
          <div>
            <label for="annee">Année</label>
            <input id="annee" name="Véhicule — Année" type="number" min="1980" max="2026" required />
          </div>
          <div>
            <label for="marque">Marque</label>
            <input id="marque" name="Véhicule — Marque" required placeholder="ex: Infiniti" />
          </div>
          <div>
            <label for="modele">Modèle</label>
            <input id="modele" name="Véhicule — Modèle" required placeholder="ex: Q50" />
          </div>
        </div>

        <div class="grid g2">
          <div>
            <label for="vin">NIV (VIN)</label>
            <input id="vin" name="Véhicule — NIV (VIN)" placeholder="17 caractères" maxlength="17" />
          </div>
          <div>
            <label for="usage">Usage du véhicule</label>
            <select id="usage" name="Usage" required>
              <option value="">— Sélectionner —</option>
              <option>Personnel</option>
              <option>Affaires (courtier, visites clients)</option>
              <option>Mixte</option>
              <option>Livraison/Uber</option>
            </select>
          </div>
        </div>

        <div class="grid g2">
          <div>
            <label for="km">Kilométrage annuel estimé</label>
            <input id="km" name="Kilométrage annuel" type="number" min="0" placeholder="ex: 20 000" />
          </div>
          <div>
            <label for="stationnement">Lieu de stationnement nuit</label>
            <select id="stationnement" name="Stationnement de nuit">
              <option value="">— Sélectionner —</option>
              <option>Rue</option>
              <option>Allée/Entrée</option>
              <option>Garage</option>
              <option>Stationnement intérieur</option>
            </select>
          </div>
        </div>

        <div class="grid g2">
          <div>
            <label for="sinistres">Sinistres 6 dernières années</label>
            <select id="sinistres" name="Sinistres (6 ans)" required>
              <option value="">— Sélectionner —</option>
              <option>Aucun</option>
              <option>1</option>
              <option>2+</option>
            </select>
          </div>
          <div>
            <label for="tickets">Infractions 3 dernières années</label>
            <select id="tickets" name="Infractions (3 ans)" required>
              <option value="">— Sélectionner —</option>
              <option>Aucune</option>
              <option>1</option>
              <option>2+</option>
            </select>
          </div>
        </div>

        <!-- SEULE PARTIE MODIFIÉE : alignement Couvertures -->
        <div>
          <label for="couvertures">Couvertures souhaitées</label>
          <div class="cover-grid" id="couvertures">
            <label class="row"><input type="checkbox" name="Couverture – Responsabilité civile (1M/2M)" value="Oui" /> Responsabilité 1M/2M</label>
            <label class="row"><input type="checkbox" name="Couverture – Tous risques" value="Oui" /> Tous risques</label>
            <label class="row"><input type="checkbox" name="Couverture – Collision" value="Oui" /> Collision</label>
            <label class="row"><input type="checkbox" name="Couverture – Délit de fuite / Vandalisme" value="Oui" /> Délit de fuite / Vandalisme</label>
            <label class="row"><input type="checkbox" name="Couverture – Bris de vitre" value="Oui" /> Bris de vitre</label>
            <label class="row"><input type="checkbox" name="Couverture – Véhicule de remplacement" value="Oui" /> Véhicule de remplacement</label>
          </div>
        </div>

        <div>
          <label for="commentaires">Commentaires / détails</label>
          <textarea id="commentaires" name="Commentaires" rows="4" placeholder="Ex.: conducteur additionnel, système d'alarme, déménagement, etc."></textarea>
          <div class="hint">Vos informations sont envoyées de façon sécurisée à mon courriel.</div>
        </div>

        <label class="row">
          <input type="checkbox" id="consent" required />
          <span>Je consens à être contacté pour ma soumission d'assurance auto.</span>
        </label>

        <button class="btn primary" type="submit" id="sendBtn">Envoyer la demande</button>
        <div id="successMsg" class="success">Merci! Votre demande a été envoyée.</div>
        <div class="footer">© <span id="y"></span> — Courtier d'assurance (Québec)</div>
      </form>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    const form = document.getElementById('quoteForm');
    const btn = document.getElementById('sendBtn');
    form.addEventListener('submit', function(){
      btn.disabled = true; btn.textContent = 'Envoi…';
    });
    window.addEventListener('pageshow', () => { btn.disabled = false; btn.textContent = 'Envoyer la demande'; });
  </script>
</body>
</html>